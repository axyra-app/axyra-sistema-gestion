<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AXYRA - Planes de Membres√≠a</title>
    <link rel="stylesheet" href="static/axyra-styles.css" />
    <link rel="stylesheet" href="static/membership-styles.css" />
    <link rel="stylesheet" href="static/membership-detailed-styles.css" />
    <link rel="stylesheet" href="static/modal-fixes.css" />
    <link rel="icon" href="nomina.ico" type="image/x-icon" />
</head>
<body>
    <!-- Header -->
    <header class="axyra-header">
        <div class="axyra-container">
            <div class="axyra-header-content">
                <div class="axyra-logo">
                    <img src="logo.png" alt="AXYRA Logo" class="axyra-logo-img" />
                    <div class="axyra-logo-text">
                        <h1>AXYRA</h1>
                        <p>Sistema de Gesti√≥n Integral</p>
                    </div>
                </div>
                <nav class="axyra-nav">
                    <a href="index.html" class="axyra-nav-link">‚Üê Volver al Inicio</a>
                </nav>
            </div>
        </div>
    </header>

    <!-- Hero Section -->
    <section class="axyra-membership-hero">
        <div class="axyra-container">
            <div class="axyra-membership-hero-content">
                <h1 class="axyra-membership-hero-title">
                    <span class="axyra-hero-main">üíé ELIGE TU PLAN</span>
                    <span class="axyra-hero-sub">Y TRANSFORMA TU EMPRESA</span>
                </h1>
                <p class="axyra-membership-hero-description">
                    Desbloquea el poder completo de AXYRA con nuestros planes profesionales dise√±ados para empresas de todos los tama√±os
                </p>
            </div>
        </div>
    </section>

    <!-- Membres√≠as Detalladas -->
    <section class="axyra-memberships-detailed">
        <div class="axyra-container">
            <div class="axyra-memberships-grid-detailed">
                <!-- Plan Gratis -->
                <div class="axyra-membership-card-detailed" data-plan="free">
                    <div class="axyra-membership-badge-detailed">GRATIS</div>
                    <div class="axyra-membership-header-detailed">
                        <h3>Starter</h3>
                        <div class="axyra-membership-price-detailed">
                            <span class="axyra-price-currency-detailed">$</span>
                            <span class="axyra-price-amount-detailed">0</span>
                            <span class="axyra-price-period-detailed">/mes</span>
                        </div>
                        <p class="axyra-membership-description">Perfecto para empresas peque√±as que est√°n comenzando</p>
                    </div>
                    <div class="axyra-membership-features-detailed">
                        <h4>¬øQu√© incluye?</h4>
                        <ul>
                            <li>‚úÖ Hasta 5 empleados</li>
                            <li>‚úÖ Reportes b√°sicos</li>
                            <li>‚úÖ Soporte por email</li>
                            <li>‚úÖ Acceso b√°sico al dashboard</li>
                            <li>‚úÖ Gesti√≥n b√°sica de empleados</li>
                        </ul>
                    </div>
                    <div class="axyra-membership-limitations">
                        <h4>Limitaciones</h4>
                        <ul>
                            <li>‚ùå Sin funcionalidades avanzadas</li>
                            <li>‚ùå Sin soporte prioritario</li>
                            <li>‚ùå Sin reportes personalizados</li>
                        </ul>
                    </div>
                    <button class="axyra-btn axyra-btn-outline axyra-membership-btn-detailed" onclick="selectDetailedPlan('free')">
                        Comenzar Gratis
                    </button>
                </div>

                <!-- Plan B√°sico -->
                <div class="axyra-membership-card-detailed axyra-membership-popular" data-plan="basic">
                    <div class="axyra-membership-badge-detailed axyra-badge-popular">POPULAR</div>
                    <div class="axyra-membership-header-detailed">
                        <h3>B√°sico</h3>
                        <div class="axyra-membership-price-detailed">
                            <span class="axyra-price-currency-detailed">$</span>
                            <span class="axyra-price-amount-detailed">29</span>
                            <span class="axyra-price-period-detailed">/mes</span>
                        </div>
                        <p class="axyra-membership-description">Ideal para empresas en crecimiento</p>
                    </div>
                    <div class="axyra-membership-features-detailed">
                        <h4>¬øQu√© incluye?</h4>
                        <ul>
                            <li>‚úÖ Hasta 25 empleados</li>
                            <li>‚úÖ Dashboard completo</li>
                            <li>‚úÖ Gesti√≥n de horas</li>
                            <li>‚úÖ Reportes avanzados</li>
                            <li>‚úÖ Soporte prioritario</li>
                            <li>‚úÖ Gesti√≥n de n√≥mina b√°sica</li>
                        </ul>
                    </div>
                    <div class="axyra-membership-benefits">
                        <h4>Beneficios adicionales</h4>
                        <ul>
                            <li>üöÄ Acceso a todas las funcionalidades</li>
                            <li>üìä Reportes en tiempo real</li>
                            <li>‚è∞ Control de horas avanzado</li>
                        </ul>
                    </div>
                    <button class="axyra-btn axyra-btn-primary axyra-membership-btn-detailed" onclick="selectDetailedPlan('basic')">
                        Seleccionar Plan
                    </button>
                </div>

                <!-- Plan Profesional -->
                <div class="axyra-membership-card-detailed axyra-membership-featured-detailed" data-plan="professional">
                    <div class="axyra-membership-badge-detailed axyra-badge-featured-detailed">M√ÅS POPULAR</div>
                    <div class="axyra-membership-header-detailed">
                        <h3>Profesional</h3>
                        <div class="axyra-membership-price-detailed">
                            <span class="axyra-price-currency-detailed">$</span>
                            <span class="axyra-price-amount-detailed">59</span>
                            <span class="axyra-price-period-detailed">/mes</span>
                        </div>
                        <p class="axyra-membership-description">Para empresas que buscan la excelencia</p>
                    </div>
                    <div class="axyra-membership-features-detailed">
                        <h4>¬øQu√© incluye?</h4>
                        <ul>
                            <li>‚úÖ Empleados ilimitados</li>
                            <li>‚úÖ Todas las funcionalidades</li>
                            <li>‚úÖ N√≥mina avanzada</li>
                            <li>‚úÖ Reportes personalizados</li>
                            <li>‚úÖ Soporte 24/7</li>
                            <li>‚úÖ API personalizada</li>
                            <li>‚úÖ Integraci√≥n con sistemas externos</li>
                        </ul>
                    </div>
                    <div class="axyra-membership-benefits">
                        <h4>Beneficios exclusivos</h4>
                        <ul>
                            <li>üéØ An√°lisis predictivo</li>
                            <li>üìà Reportes personalizados</li>
                            <li>üîó Integraciones avanzadas</li>
                            <li>üõ°Ô∏è Seguridad empresarial</li>
                        </ul>
                    </div>
                    <button class="axyra-btn axyra-btn-gradient axyra-membership-btn-detailed" onclick="selectDetailedPlan('professional')">
                        ¬°Elegir Profesional!
                    </button>
                </div>

                <!-- Plan Empresarial -->
                <div class="axyra-membership-card-detailed axyra-membership-enterprise-detailed" data-plan="enterprise">
                    <div class="axyra-membership-badge-detailed axyra-badge-enterprise-detailed">EMPRESARIAL</div>
                    <div class="axyra-membership-header-detailed">
                        <h3>Empresarial</h3>
                        <div class="axyra-membership-price-detailed">
                            <span class="axyra-price-currency-detailed">$</span>
                            <span class="axyra-price-amount-detailed">99</span>
                            <span class="axyra-price-period-detailed">/mes</span>
                        </div>
                        <p class="axyra-membership-description">Soluci√≥n completa para grandes empresas</p>
                    </div>
                    <div class="axyra-membership-features-detailed">
                        <h4>¬øQu√© incluye?</h4>
                        <ul>
                            <li>‚úÖ Todo lo anterior</li>
                            <li>‚úÖ M√∫ltiples sucursales</li>
                            <li>‚úÖ Integraci√≥n personalizada</li>
                            <li>‚úÖ Soporte dedicado</li>
                            <li>‚úÖ Capacitaci√≥n incluida</li>
                            <li>‚úÖ SLA garantizado</li>
                            <li>‚úÖ Consultor√≠a especializada</li>
                        </ul>
                    </div>
                    <div class="axyra-membership-benefits">
                        <h4>Servicios exclusivos</h4>
                        <ul>
                            <li>üè¢ Gesti√≥n multi-sucursal</li>
                            <li>üë®‚Äçüíº Gerente de cuenta dedicado</li>
                            <li>üéì Capacitaci√≥n personalizada</li>
                            <li>üìû Soporte telef√≥nico prioritario</li>
                        </ul>
                    </div>
                    <button class="axyra-btn axyra-btn-secondary axyra-membership-btn-detailed" onclick="selectDetailedPlan('enterprise')">
                        Contactar Ventas
                    </button>
                </div>
            </div>
        </div>
    </section>

    <!-- T√©rminos y Condiciones -->
    <section class="axyra-terms-section">
        <div class="axyra-container">
            <div class="axyra-terms-content">
                <h2>T√©rminos y Condiciones</h2>
                <div class="axyra-terms-text">
                    <p>Al seleccionar un plan, aceptas nuestros t√©rminos y condiciones:</p>
                    <ul>
                        <li>‚Ä¢ Los pagos se procesan mensualmente</li>
                        <li>‚Ä¢ Puedes cancelar tu suscripci√≥n en cualquier momento</li>
                        <li>‚Ä¢ Garant√≠a de 30 d√≠as de satisfacci√≥n</li>
                        <li>‚Ä¢ Soporte t√©cnico incluido seg√∫n el plan</li>
                        <li>‚Ä¢ Los datos est√°n protegidos con encriptaci√≥n de nivel empresarial</li>
                    </ul>
                </div>
            </div>
        </div>
    </section>

    <!-- Modal de T√©rminos y Condiciones -->
    <div id="termsModal" class="axyra-modal">
        <div class="axyra-modal-content axyra-modal-large">
            <div class="axyra-modal-header">
                <h3>üìã T√©rminos y Condiciones de Membres√≠as</h3>
                <button class="axyra-modal-close" onclick="closeTermsModal()">&times;</button>
            </div>
            <div class="axyra-modal-body">
                <h4>AXYRA - T√©rminos de Membres√≠as</h4>
                <p><strong>√öltima actualizaci√≥n:</strong> 14 de Septiembre, 2025</p>

                <h5>1. Suscripciones y Pagos</h5>
                <p>Las membres√≠as se facturan mensualmente. Los pagos se procesan autom√°ticamente en la fecha de renovaci√≥n. Puedes actualizar o cancelar tu suscripci√≥n en cualquier momento desde tu panel de control.</p>

                <h5>2. Garant√≠a de Satisfacci√≥n</h5>
                <p>Ofrecemos una garant√≠a de 30 d√≠as de satisfacci√≥n. Si no est√°s completamente satisfecho con tu plan, te reembolsaremos el pago completo sin preguntas.</p>

                <h5>3. Soporte T√©cnico</h5>
                <p>El nivel de soporte var√≠a seg√∫n tu plan. Los planes Profesional y Empresarial incluyen soporte 24/7, mientras que los planes b√°sicos incluyen soporte por email.</p>

                <h5>4. Protecci√≥n de Datos</h5>
                <p>Todos los datos est√°n protegidos con encriptaci√≥n de nivel empresarial. Cumplimos con las regulaciones de protecci√≥n de datos m√°s estrictas.</p>

                <h5>5. Limitaciones de Uso</h5>
                <p>Cada plan tiene limitaciones espec√≠ficas en t√©rminos de empleados, funcionalidades y soporte. Estas limitaciones se detallan en la descripci√≥n de cada plan.</p>

                <h5>6. Modificaciones</h5>
                <p>Nos reservamos el derecho de modificar estos t√©rminos con 30 d√≠as de anticipaci√≥n. Los cambios se notificar√°n por email.</p>

                <h5>7. Contacto</h5>
                <p>Para preguntas sobre estos t√©rminos, cont√°ctanos en: <strong>axyra.app@gmail.com</strong></p>
            </div>
        </div>
    </div>

    <!-- Modal de Pago -->
    <div id="paymentModal" class="axyra-modal">
        <div class="axyra-modal-content axyra-modal-large">
            <div class="axyra-modal-header">
                <h3>üí≥ Procesar Pago</h3>
                <button class="axyra-modal-close" onclick="closePaymentModal()">&times;</button>
            </div>
            <div class="axyra-modal-body">
                <div class="axyra-payment-content">
                    <div class="axyra-payment-summary">
                        <h4>Resumen de tu Plan</h4>
                        <div class="axyra-payment-plan-info" id="paymentPlanInfo">
                            <!-- Se llena din√°micamente -->
                        </div>
                    </div>
                    
                    <div class="axyra-payment-methods">
                        <h4>M√©todos de Pago</h4>
                        <div class="axyra-payment-options">
                            <button class="axyra-payment-option" onclick="selectPaymentMethod('wompi')">
                                <div class="axyra-payment-icon">üí≥</div>
                                <div class="axyra-payment-text">
                                    <h5>Wompi</h5>
                                    <p>Tarjetas de cr√©dito y d√©bito</p>
                                </div>
                            </button>
                            
                            <button class="axyra-payment-option" onclick="selectPaymentMethod('paypal')">
                                <div class="axyra-payment-icon">üÖøÔ∏è</div>
                                <div class="axyra-payment-text">
                                    <h5>PayPal</h5>
                                    <p>Pago seguro con PayPal</p>
                                </div>
                            </button>
                            
                            <button class="axyra-payment-option" onclick="selectPaymentMethod('transfer')">
                                <div class="axyra-payment-icon">üè¶</div>
                                <div class="axyra-payment-text">
                                    <h5>Transferencia</h5>
                                    <p>Transferencia bancaria</p>
                                </div>
                            </button>
                        </div>
                    </div>
                    
                    <div class="axyra-payment-terms">
                        <label class="axyra-checkbox-container">
                            <input type="checkbox" id="acceptTerms" required>
                            <span class="axyra-checkmark"></span>
                            Acepto los <a href="#" onclick="showTermsModal()">t√©rminos y condiciones</a>
                        </label>
                    </div>
                    
                    <div class="axyra-payment-actions">
                        <button class="axyra-btn axyra-btn-primary axyra-btn-large" onclick="processPayment()" id="processPaymentBtn" disabled>
                            üí≥ Procesar Pago
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="static/membership-system.js"></script>
    <script src="static/payment-module.js"></script>
    <script>
        let selectedPlan = null;
        let selectedPaymentMethod = null;

        function selectDetailedPlan(planType) {
            selectedPlan = planType;
            console.log('üíé Plan seleccionado:', planType);
            
            if (planType === 'free') {
                // Para plan gratuito, activar directamente
                if (window.axyraMembership) {
                    window.axyraMembership.setMembership(planType);
                    showSuccessMessage('¬°Plan Gratis activado! Ya puedes acceder a todas las funcionalidades de tu plan.');
                    setTimeout(() => {
                        window.location.href = 'index.html';
                    }, 2000);
                }
            } else {
                // Para planes de pago, mostrar modal de pago
                showPaymentModal();
            }
        }

        function showPaymentModal() {
            const modal = document.getElementById('paymentModal');
            const planInfo = document.getElementById('paymentPlanInfo');
            
            const plans = {
                basic: { name: 'B√°sico', price: 29.99, features: ['Hasta 25 empleados', 'Dashboard completo', 'Soporte prioritario'] },
                professional: { name: 'Profesional', price: 59.99, features: ['Empleados ilimitados', 'Todas las funcionalidades', 'Soporte 24/7'] },
                enterprise: { name: 'Empresarial', price: 99.99, features: ['Todo lo anterior', 'M√∫ltiples sucursales', 'Soporte dedicado'] }
            };
            
            const plan = plans[selectedPlan];
            planInfo.innerHTML = `
                <div class="axyra-plan-summary">
                    <h5>${plan.name}</h5>
                    <div class="axyra-plan-price">$${plan.price}/mes</div>
                    <ul>
                        ${plan.features.map(feature => `<li>‚úÖ ${feature}</li>`).join('')}
                    </ul>
                </div>
            `;
            
            modal.style.display = 'flex';
        }

        function closePaymentModal() {
            document.getElementById('paymentModal').style.display = 'none';
        }

        function selectPaymentMethod(method) {
            selectedPaymentMethod = method;
            
            // Remover selecci√≥n anterior
            document.querySelectorAll('.axyra-payment-option').forEach(option => {
                option.classList.remove('selected');
            });
            
            // Seleccionar m√©todo
            event.target.closest('.axyra-payment-option').classList.add('selected');
            
            // Habilitar bot√≥n de pago
            document.getElementById('processPaymentBtn').disabled = false;
        }

        async function processPayment() {
            const termsAccepted = document.getElementById('acceptTerms').checked;
            
            if (!termsAccepted) {
                alert('Por favor, acepta los t√©rminos y condiciones para continuar.');
                return;
            }
            
            if (!selectedPaymentMethod) {
                alert('Por favor, selecciona un m√©todo de pago.');
                return;
            }
            
            console.log('üí≥ Procesando pago:', selectedPlan, selectedPaymentMethod);
            
            // Deshabilitar bot√≥n de pago
            const processBtn = document.getElementById('processPaymentBtn');
            processBtn.disabled = true;
            processBtn.textContent = 'Procesando...';
            
            try {
                // Procesar pago con el m√≥dulo de pagos
                const paymentResult = await window.axyraPayment.processPayment(selectedPlan, selectedPaymentMethod, {});
                
                // Mostrar √©xito del pago
                window.axyraPayment.showPaymentSuccess(paymentResult);
                
                // Activar membres√≠a
                if (window.axyraMembership) {
                    window.axyraMembership.setMembership(selectedPlan);
                }
                
                // Cerrar modal de pago
                closePaymentModal();
                
                // Redirigir al dashboard despu√©s de 3 segundos
                setTimeout(() => {
                    window.location.href = 'index.html';
                }, 3000);
                
            } catch (error) {
                console.error('‚ùå Error en el pago:', error);
                window.axyraPayment.showPaymentError(error);
                
                // Rehabilitar bot√≥n de pago
                processBtn.disabled = false;
                processBtn.textContent = 'üí≥ Procesar Pago';
            }
        }

        function showTermsModal() {
            document.getElementById('termsModal').style.display = 'flex';
        }

        function closeTermsModal() {
            document.getElementById('termsModal').style.display = 'none';
        }

        function showSuccessMessage(message) {
            const notification = document.createElement('div');
            notification.className = 'axyra-notification axyra-notification-success';
            notification.innerHTML = `
                <div class="axyra-notification-content">
                    <span class="axyra-notification-icon">‚úÖ</span>
                    <span class="axyra-notification-text">${message}</span>
                </div>
            `;
            document.body.appendChild(notification);
            
            setTimeout(() => {
                notification.classList.add('show');
            }, 100);
            
            setTimeout(() => {
                notification.classList.remove('show');
                setTimeout(() => notification.remove(), 300);
            }, 3000);
        }

        // Cerrar modales al hacer clic fuera
        window.onclick = function(event) {
            const modals = document.querySelectorAll('.axyra-modal');
            modals.forEach(modal => {
                if (event.target === modal) {
                    modal.style.display = 'none';
                }
            });
        };
    </script>
</body>
</html>
