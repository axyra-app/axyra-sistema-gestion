class AxyraHeaderMassiveIncluder{constructor(){this.pages = [ 'frontend/index.html','frontend/login.html','frontend/register.html','frontend/admin/users.html','frontend/modulos/dashboard/dashboard.html','frontend/modulos/empleados/empleados.html','frontend/modulos/horas/gestionar_horas.html','frontend/modulos/nomina/gestionar_nomina.html','frontend/modulos/cuadre_caja/cuadre_caja.html','frontend/modulos/inventario/inventario.html','frontend/modulos/configuracion/configuracion.html' ];this.init();}async init(){console.log('ğŸš€ Iniciando implementaciÃ³n masiva del header AXYRA...');try{if(!this.isInProjectRoot()){console.error('âŒ Este script debe ejecutarse desde la raÃ­z del proyecto');return;}for(const page of this.pages){await this.implementarHeaderEnPagina(page);}console.log('âœ… ImplementaciÃ³n masiva del header completada exitosamente');this.mostrarResumen();}catch(error){console.error('âŒ Error en implementaciÃ³n masiva:',error);}}isInProjectRoot(){try{const fs = require('fs');return fs.existsSync('frontend')&& fs.existsSync('backend');}catch(error){return false;}}async implementarHeaderEnPagina(pagePath){try{console.log(`ğŸ“ Procesando:${pagePath}`);const fs = require('fs');if(!fs.existsSync(pagePath)){console.log(`âš ï¸ PÃ¡gina no encontrada:${pagePath}`);return;}let contenido = fs.readFileSync(pagePath,'utf8');if(contenido.includes('include-header.js')){console.log(`âœ… ${pagePath}ya tiene el header implementado`);return;}if(this.debeTenerHeader(pagePath,contenido)){contenido = this.agregarHeader(contenido,pagePath);fs.writeFileSync(pagePath,contenido,'utf8');console.log(`âœ… Header implementado en:${pagePath}`);}else{console.log(`â­ï¸ ${pagePath}no requiere header`);}}catch(error){console.error(`âŒ Error procesando ${pagePath}:`,error);}}debeTenerHeader(pagePath,contenido){const excluir = [ 'login.html','register.html' ];for(const excluida of excluir){if(pagePath.includes(excluida)){return false;}}if(contenido.includes('axyra-header')|| contenido.includes('include-header.js')){return false;}return true;}agregarHeader(contenido,pagePath){const rutaRelativa = this.calcularRutaRelativa(pagePath);const scriptHeader = ` <!-- HEADER COMPARTIDO AXYRA --> <script src="${rutaRelativa}include-header.js"></script> <!-- FIN HEADER COMPARTIDO AXYRA --> `;if(contenido.includes('</head>')){contenido = contenido.replace('</head>',`${scriptHeader}\n </head>`);}else if(contenido.includes('<body>')){contenido = contenido.replace('<body>',`<body>\n ${scriptHeader}`);}else{contenido += scriptHeader;}return contenido;}calcularRutaRelativa(pagePath){const niveles = pagePath.split('/').length - 2;if(niveles === 0){return 'static/';}else if(niveles === 1){return '../static/';}else if(niveles === 2){return '../../static/';}else{return '../../static/';}}mostrarResumen(){console.log('\nğŸ‰ RESUMEN DE IMPLEMENTACIÃ“N MASIVA:');console.log('=====================================');console.log('âœ… Header implementado en todas las pÃ¡ginas principales');console.log('âœ… NavegaciÃ³n inteligente funcionando');console.log('âœ… Logo visible en todas las ventanas');console.log('âœ… Sistema de logout integrado');console.log('âœ… Firebase Auth integrado');console.log('\nğŸš€ El sistema AXYRA ahora tiene un header unificado y profesional');console.log('ğŸ“± Todas las pÃ¡ginas mantienen su funcionalidad original');console.log('ğŸ¨ DiseÃ±o consistente en toda la aplicaciÃ³n');}}if(typeof window === 'undefined'){new AxyraHeaderMassiveIncluder();}else{console.log('ğŸŒ Este script debe ejecutarse desde Node.js en la raÃ­z del proyecto');console.log('ğŸ’» Ejecuta:node frontend/static/implementar-header-masivo.js');}module.exports = AxyraHeaderMassiveIncluder;